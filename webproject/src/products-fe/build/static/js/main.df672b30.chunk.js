(this["webpackJsonpproducts-fe"]=this["webpackJsonpproducts-fe"]||[]).push([[0],{37:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(3),a=n.n(r),s=n(15),i=n.n(s),o=(n(37),n(8)),l=n(9),j=n(11),h=n(10),u=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("h1",{children:"SuperMarket Management System "}),Object(c.jsx)("h3",{children:"Stocks (Using React and Django)"}),Object(c.jsx)("hr",{})]})}}]),n}(r.Component),d=n(75),p=n(76),b=n(77),O=n(74),g=n(70),x=n(78),f=n(71),m=n(72),y=n(31),v=n(66),k=n(67),S=n(68),C=n(69),w=n(14),_=n.n(w),D="http://localhost:8000/api/stocks/",E=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={pk:0,name:"",description:"",quantity:"",unit_price:"",stock_level:""},t.onChange=function(e){t.setState(Object(y.a)({},e.target.name,e.target.value))},t.createProduct=function(e){e.preventDefault(),_.a.post(D,t.state).then((function(){t.props.resetState(),t.props.toggle()}))},t.editProduct=function(e){e.preventDefault(),_.a.put(D+t.state.pk,t.state).then((function(){t.props.resetState(),t.props.toggle()}))},t.defaultIfEmpty=function(t){return""===t?"":t},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(this.props.product){var t=this.props.product,e=t.pk,n=t.name,c=t.description,r=t.quantity,a=t.unit_price,s=t.stock_level;this.setState({pk:e,name:n,description:c,quantity:r,unit_price:a,stock_level:s})}}},{key:"render",value:function(){return Object(c.jsxs)(v.a,{onSubmit:this.props.product?this.editProduct:this.createProduct,children:[Object(c.jsxs)(k.a,{children:[Object(c.jsx)(S.a,{for:"name",children:"Name:"}),Object(c.jsx)(C.a,{type:"text",name:"name",onChange:this.onChange,value:this.defaultIfEmpty(this.state.name)})]}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(S.a,{for:"description",children:"Description:"}),Object(c.jsx)(C.a,{type:"text",name:"description",onChange:this.onChange,value:this.defaultIfEmpty(this.state.description)})]}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(S.a,{for:"quantity",children:"Quantity:"}),Object(c.jsx)(C.a,{type:"text",name:"quantity",onChange:this.onChange,value:this.defaultIfEmpty(this.state.quantity)})]}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(S.a,{for:"unit_price",children:"Unit price:"}),Object(c.jsx)(C.a,{type:"text",name:"unit_price",onChange:this.onChange,value:this.defaultIfEmpty(this.state.unit_price)})]}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(S.a,{for:"stock_level",children:"Stock level:"}),Object(c.jsx)(C.a,{type:"text",name:"stock_level",onChange:this.onChange,value:this.defaultIfEmpty(this.state.stock_level)})]}),Object(c.jsx)(g.a,{children:"Submit"})]})}}]),n}(a.a.Component),P=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={modal:!1},t.toggle=function(){t.setState((function(t){return{modal:!t.modal}}))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.create,e="Editing Product",n=Object(c.jsx)(g.a,{onClick:this.toggle,children:"Edit"});return t&&(e="Creating New Product",n=Object(c.jsx)(g.a,{color:"primary",className:"float-right",onClick:this.toggle,style:{minWidth:"200px"},children:"Create New"})),Object(c.jsxs)(r.Fragment,{children:[n,Object(c.jsxs)(x.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(c.jsx)(f.a,{toggle:this.toggle,children:e}),Object(c.jsx)(m.a,{children:Object(c.jsx)(E,{resetState:this.props.resetState,toggle:this.toggle,product:this.props.product})})]})]})}}]),n}(r.Component),q=n(73),I=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={modal:!1},t.toggle=function(){t.setState((function(t){return{modal:!t.modal}}))},t.deleteProduct=function(e){_.a.delete(D+e).then((function(){t.props.resetState(),t.toggle()}))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)(g.a,{color:"danger",onClick:function(){return t.toggle()},children:"Remove"}),Object(c.jsxs)(x.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(c.jsx)(f.a,{toggle:this.toggle,children:"Do you really wanna delete the product?"}),Object(c.jsxs)(q.a,{children:[Object(c.jsx)(g.a,{type:"button",onClick:function(){return t.toggle()},children:"Cancel"}),Object(c.jsx)(g.a,{type:"button",color:"primary",onClick:function(){return t.deleteProduct(t.props.pk)},children:"Yes"})]})]})]})}}]),n}(r.Component),N=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props.stocks;return Object(c.jsxs)(O.a,{bgcolor:"FDD897",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Description"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Unit price"}),Object(c.jsx)("th",{children:"Stock level"}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:!e||e.length<=0?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:"6",align:"center",children:Object(c.jsx)("b",{children:"Oops, no one here yet"})})}):e.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.description}),Object(c.jsx)("td",{children:e.quantity}),Object(c.jsx)("td",{children:e.unit_price}),Object(c.jsx)("td",{children:e.stock_level}),Object(c.jsxs)("td",{align:"center",children:[Object(c.jsx)(P,{create:!1,product:e,resetState:t.props.resetState}),"\xa0\xa0",Object(c.jsx)(I,{pk:e.pk,resetState:t.props.resetState})]})]},e.pk)}))})]})}}]),n}(r.Component),A=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={stocks:[]},t.getStocks=function(){_.a.get(D).then((function(e){return t.setState({stocks:e.data})}))},t.resetState=function(){t.getStocks()},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.resetState()}},{key:"render",value:function(){return Object(c.jsxs)(d.a,{style:{marginTop:"20px"},children:[Object(c.jsx)(p.a,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(N,{stocks:this.state.stocks,resetState:this.resetState})})}),Object(c.jsx)(p.a,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(P,{create:!0,resetState:this.resetState})})})]})}}]),n}(r.Component),F=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)(u,{}),Object(c.jsx)(A,{})]})}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(64);i.a.render(Object(c.jsx)(F,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.df672b30.chunk.js.map